<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <title>bgj-06</title>

        <!-- lib files -->
        <script src=lib/jquery.min.js></script>
        <script src=lib/StateManager.js></script>
        <script src=lib/canvas-dragdrop.js></script>
        <script src=lib/pointToLine.js></script>
        <script src=lib/handlebars.js></script>

        <!-- src files -->
        <script src=src/Enemy.js></script>
        <script src=src/ParticleSystem.js></script>
        <script src=src/bootstrap.js></script>
        <script src=src/ExampleState.js></script>
        <script src=src/GameState.js></script>
        <script src=src/MenuState.js></script>
        <script src=src/LaserController.js></script>
        <script src=src/Laser.js></script>
        <script src=src/Pot.js></script>
        <script src=src/Rainbow.js></script>
        <script src=src/AudioButton.js></script>
        <script src=src/Toast.js></script>
        <script src=src/Achievements.js></script>
        <script src=src/UpgradeDebuffOnHit.js></script>
        <script src=src/Cash.js></script>
        <script src=src/Colors.js></script>
        <script src=src/MoneyEffect.js></script>
        <script src=src/Upgrades.js></script>
        <script src=src/SpeedEffect.js></script>
        <script src=src/UpgradeDamageMultiplier.js></script>
        <script src=src/UpgradeAddBaseDamage.js></script>
        <script src=src/DotEffect.js></script>


        <style>
            *{
                margin:0;
                padding:0;
                border:0;
                outline:0;
            }
            html,body {
                overflow:hidden;
                background:black;
                user-select: none;
                -ms-user-select: none;
                -moz-user-select: none;
                -webkit-user-select: none;
                font-family: 'blackoutmidnight';
            }

            button {
                font-family: 'blackoutmidnight';
            }

            .toast {
                position: fixed;
                top: 75%;
                margin: 0 auto;
                width:100%;
                background: white;
                padding: 20px;
                text-align: center;
                font-size: 40px;
                display: none;
                background: rgba(0,0,0,0.5);
                color: white;
            }

            .template {
                display: none;
            }

            .achievement {
                width: 50%;
                margin: 0 auto;
            }

            .achievement .description {
                font-size: 20px;
            }

            .achievement .image {
                float:left;
                margin-right: 10px;
                width: 10%;
            }

            .cash {
                position: absolute;
                top: 10px;
                left: 10px;
                background: white;
                width: 60px;
            }

            .upgrades {
                position: absolute;
                top: 40px;
                left: 10px;
                background: white;
                width: 140px;
            }

            .health {
                position: absolute;
                top: 10px;
                background: white;
                width: 180px;
                left: 50%;
                margin-left: -90px;
            }

            .health .value {
                font-size: 18px;
            }

            @font-face {
                font-family: 'blackoutmidnight';
                src: url('res/fonts/blackout-nor-webfont.eot');
                src: url('res/fonts/blackout-nor-webfont.eot') format('embedded-opentype'),url('res/fonts/blackout-nor-webfont.woff') format('woff'),url('res/fonts/blackout-nor-webfont.ttf') format('truetype'),url('res/fonts/blackout-nor-webfont.svg') format('svg');
                font-weight: normal;
                font-style: normal;
            }

            #overlay {
                z-index: 1000;
                position: fixed;
                top:0;
                left:0;
                width:100%;
                height:100%;
                background: rgba(0,0,0,0.5);
            }
            
            #game-over {
                z-index: 1001;
                position:absolute;
                left: 50%;
                top: 50%;
                width: 300px;
                height: 200px;
                margin-left: -150px;
                margin-top: -100px;
                text-align: center;
                background: white;
            }
        </style>
    </head>
    <body onload="bootstrap()">
        <audio id="music" loop>
            <source src="http://jord.al/bgj-06/music.mp3" type="audio/mpeg">
            <source src="http://jord.al/bgj-06/music.ogg" type="audio/ogg">
        </audio>

    <div class="toast template">
        <div class=message>
        </div>
    </div>

    <div class="achievement template">
        <img class=image />
        <div>
            <div class=name></div>
            <div class=description></div>
        </div>
    </div>

    <div class="cash template">
        <div class="value"></div>
    </div>

    <div class="upgrades template">
        <h2>Upgrades</h2>
        <ul class="upgrade-container"></ul>
    </div>

    <div class="health template">
        <h3>Health Remaning</h3>
        <div class=value></div>
    </div>

    <script id="upgrade-template" type="text/x-handlebars-template">
        <li class="upgrade {{#if canPurchase}}can-purchase{{/if}}" data-id="{{ id }}">
            <strong>{{ name }}</strong>
            $<span>{{ cost }}</span>
            Stock: {{ stock }}
            <button class=upgrade-purchase>Purchase</button>
        </li>
    </script>

    <div id=overlay class=template></div>
    <div id=game-over class=template><h1>Game over!</h1></div>

    </body>
</html>
